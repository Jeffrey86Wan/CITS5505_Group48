{# templates/components/dashboard_base.html #}

{% extends "components/navigator_base.html" %}

{% block content %}
<div class="flex flex-col md:flex-row gap-4">

  <!-- Sidebar -->
  <div class="w-full md:w-1/5 max-w-xs">
    <div class="bg-white rounded-lg shadow-sm p-4 md:sticky md:top-4">

      <!-- Toggle Button (Mobile Only) -->
      <div class="md:hidden mb-4">
        <button id="sidebar-toggle" class="w-full px-3 py-1.5 bg-primary text-white rounded-lg font-medium">
          â˜° Menu
        </button>
      </div>

      <!-- Sidebar Links -->
      <div id="sidebar-links" class="hidden md:block">
        <div class="flex flex-col gap-2">
          <a href="{{ url_for('record.index') }}"
             class="flex items-center p-3 rounded-lg {% if active_page == 'record' %}bg-primary text-white{% else %}text-gray-700 hover:bg-gray-100{% endif %} transition duration-200">
            <span class="w-8 h-8 flex items-center justify-center rounded-full {% if active_page == 'record' %}bg-white text-primary{% else %}bg-primary-light text-primary{% endif %} mr-3">
              <i class="fas fa-plus text-sm"></i>
            </span>
            <span class="font-medium">Add Record</span>
          </a>

          <a href="{{ url_for('flow.index') }}"
             class="flex items-center p-3 rounded-lg {% if active_page == 'flow' %}bg-primary text-white{% else %}text-gray-700 hover:bg-gray-100{% endif %} transition duration-200">
            <span class="w-8 h-8 flex items-center justify-center rounded-full {% if active_page == 'flow' %}bg-white text-primary{% else %}bg-primary-light text-primary{% endif %} mr-3">
              <i class="fas fa-stream text-sm"></i>
            </span>
            <span class="font-medium">Manage Transactions</span>
          </a>

          <a href="{{ url_for('upload.upload') }}"
             class="flex items-center p-3 rounded-lg {% if active_page == 'upload' %}bg-primary text-white{% else %}text-gray-700 hover:bg-gray-100{% endif %} transition duration-200">
            <span class="w-8 h-8 flex items-center justify-center rounded-full {% if active_page == 'upload' %}bg-white text-primary{% else %}bg-primary-light text-primary{% endif %} mr-3">
              <i class="fas fa-upload text-sm"></i>
            </span>
            <span class="font-medium">Upload</span>
            <span class="text-xs font-medium ml-1">powered by GPT-4o</span>
          </a>

          <a href="{{ url_for('report.report') }}"
             class="flex items-center p-3 rounded-lg {% if active_page == 'report' %}bg-primary text-white{% else %}text-gray-700 hover:bg-gray-100{% endif %} transition duration-200">
            <span class="w-8 h-8 flex items-center justify-center rounded-full {% if active_page == 'report' %}bg-white text-primary{% else %}bg-primary-light text-primary{% endif %} mr-3">
              <i class="fas fa-chart-bar text-sm"></i>
            </span>
            <span class="font-medium">Reporting</span>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="w-full bg-white rounded-lg shadow-sm p-6">
    {% block dashboard_content %}{% endblock %}
  </div>

</div>

<!-- JS to Toggle Sidebar on Mobile -->
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}
